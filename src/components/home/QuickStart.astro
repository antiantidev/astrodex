---
import { SITE_CONFIG } from "../../site.config";
---

<section id="quick-start" class="py-12 border-y border-border-subtle bg-white/[0.01]">
    <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto">
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="flex-1">
                    <h2 class="text-[10px] font-black uppercase tracking-[0.4em] text-text-dim mb-4">Launch Pipeline</h2>
                    <h3 class="text-2xl font-black text-text-main uppercase tracking-tight mb-4">Deploy in 30 Seconds</h3>
                    <p class="text-sm text-text-muted font-light leading-relaxed">Copy the command to bootstrap your local environment and start building your knowledge base immediately.</p>
                </div>
                
                <div class="flex-1 w-full">
                    <div class="relative group">
                        <div class="absolute -inset-1 bg-white/10 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-1000"></div>
                        <div class="relative bg-surface-mid border border-border-muted rounded-2xl overflow-hidden shadow-2xl">
                            <div class="flex items-center justify-between px-4 py-2 border-b border-border-subtle bg-white/[0.02]">
                                <div class="flex gap-1.5">
                                    <div class="w-2 h-2 rounded-full bg-zinc-800 border border-zinc-700"></div>
                                    <div class="w-2 h-2 rounded-full bg-zinc-800 border border-zinc-700"></div>
                                    <div class="w-2 h-2 rounded-full bg-zinc-800 border border-zinc-700"></div>
                                </div>
                                <div class="text-[8px] font-black uppercase tracking-widest text-text-dim">One-Click Install</div>
                            </div>
                            <div class="p-5 font-mono text-[11px] leading-relaxed flex items-center justify-between group/cmd">
                                <code class="text-text-main">npx degit antiantidev/astrodex my-docs</code>
                                <button 
                                    class="copy-btn p-2 rounded-lg bg-white/5 border border-white/10 text-text-muted hover:text-white transition-all active:scale-95"
                                    data-command="npx degit antiantidev/astrodex my-docs"
                                >
                                    <i class="fa-regular fa-copy"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script is:inline>
    function initQuickStart() {
        const copyBtns = document.querySelectorAll('.copy-btn');
        copyBtns.forEach(btn => {
            btn.addEventListener('click', async () => {
                const cmd = btn.getAttribute('data-command');
                await navigator.clipboard.writeText(cmd);
                const icon = btn.querySelector('i');
                icon.classList.replace('fa-regular', 'fa-solid');
                icon.classList.replace('fa-copy', 'fa-check');
                icon.style.color = 'var(--color-primary-500)';
                
                setTimeout(() => {
                    icon.classList.replace('fa-solid', 'fa-regular');
                    icon.classList.replace('fa-check', 'fa-copy');
                    icon.style.color = '';
                }, 2000);
            });
        });
    }

    initQuickStart();
    document.addEventListener('astro:after-swap', initQuickStart);
</script>
